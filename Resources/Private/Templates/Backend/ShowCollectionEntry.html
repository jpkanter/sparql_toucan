<html xmlns:f="https://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Backend" />

<f:section name="content">

    <f:render partial="Backend/MenuBar"  arguments="{activeTab : 'collection'}"/>

    <f:flashMessages />

    <f:render partial="FormErrors" />

    <div class="tx_sparqltoucan_formworld">
        <h2>Edit of Collection Entry #{ThisEntry.uid}</h2>
        <f:form action="updateCollectionEntry2" name="collectionEntry">
            <f:form.hidden name="collectionID" value="{ThisEntry.collectionID}"/>
            <f:form.hidden name="collectionEntry" value="{ThisEntry}"/>

            <label for="name">Name</label>
                <f:form.textfield name="name" size="50" type="text" placeholder="[Name]" maxlength="128" value="{ThisEntry.name}"/>
            <label for="grid_area"><f:translate key="tx_sparqltoucan_domain_model_collectionentry.gridarea" /></label>
                <f:form.textfield name="gridRow" size="4" type="integer"  maxlength="4" value="{ThisEntry.gridRow}"/>
            <f:form.textfield name="gridColumn" size="4" type="integer"  maxlength="4" value="{ThisEntry.gridColumn}"/>
            <f:form.textfield name="gridRowEnd" size="4" type="integer"  maxlength="4" value="{ThisEntry.gridRowEnd}"/>
            <f:form.textfield name="gridColumnEnd" size="4" type="integer"  maxlength="4" value="{ThisEntry.gridColumnEnd}"/>
            <label for="position"><f:translate key="tx_sparqltoucan_domain_model_collectionentry.position" /></label>
                <f:form.textfield name="position" size="4" type="integer" placeholder="[{f:translate(key:'tx_sparqltoucan_domain_model_collectionentry.position')}]" maxlength="4" value="{ThisEntry.position}"/>
            <label for="style">Style</label>
                <f:render partial="Backend/CollectionEntryStyles2" arguments="{style : ThisEntry.style}"/>
            <label for="styleName">CSS Style Name</label>
                <f:form.textfield name="styleName" size="50" type="text" placeholder="[CSS Style Class Name" maxlength="128" value="{ThisEntry.styleName}"/>
            <label for="datapointId">Datapoint</label>
                <f:form.select name="datapointId" options="{Datapoints}" optionValueField="uid" optionLabelField="name" value="{ThisEntry.datapointId}"/>
            <label for="textpoint">Textpoint</label>
                <f:form.select name="textpoint" options="{Textpoints}" optionValueField="uid" optionLabelField="name" value="{ThisEntry.textpoint}"/>

            <f:if condition="{ThisEntry.datapointId} > 0">
                <div class="additional_data">
                    [Current Datapoint]<br>
                    (Subject)<br>
                    &lt;<span class="tx_sparqltoucan_monospaced">{ThisEntry.datapointId.subject}</span>&gt; <br><br>
                    (Predicate)<br>
                    &lt;<span class="tx_sparqltoucan_monospaced">{ThisEntry.datapointId.predicate}</span>&gt; <br>
                    <br>[Languagepoints]<br>
                    <f:for each="{LanguagePoints}" as="Point">
                        {Point.content} <span class="tx_toucan_language_block">{Point.language}</span><br>
                    </f:for>
                </div>
            </f:if>

            <f:form.submit value="Update"/>
        </f:form>
    </div>

    <div>
        <h2>Assigned Collection</h2>
        <h3>{ThisEntry.collectionID.name}</h3>
        <h2>All Entries of Collection</h2>
        <table class="tx_sparqltoucan">
            <tr>
                <th><f:translate key="tx_sparqltoucan_domain_model_collectionentry.gridarea" /></th>
                <th><f:translate key="tx_sparqltoucan_domain_model_collectionentry.name" /></th>
                <th><f:translate key="tx_sparqltoucan_domain_model_collectionentry.style" /></th>
                <th><f:translate key="tx_sparqltoucan_domain_model_collectionentry.style_name" /></th>
                <th colspan="2">Actions</th>
            </tr>
            <f:for each="{OtherEntries}" as="CollectionEntry">
                <f:render partial="Backend/CollectionEntryTableRow" arguments="{CollectionEntry:CollectionEntry}" />
            </f:for>
        </table>
    </div>

    <f:debug>{_all}</f:debug>

</f:section>
</html>