<html xmlns:f="https://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
{namespace core = TYPO3\CMS\Core\ViewHelpers}
<f:layout name="Backend" />

<f:section name="content">

    <script src="{f:uri.resource(path: 'JavaScript/tou_hidden_forms_utility.js')}"></script>

    <f:render partial="Backend/MenuBar" arguments="{activeTab : 'source'}" />

    <f:flashMessages />

    <f:render partial="FormErrors" />

    <div class="tab-pane active" role="tabpanel">
        <div class="panel panel-tab">
            <div class="panel-body">

                <h2 class="touCanDo">Sources</h2>

                <f:flashMessages />

                <table class="table table-striped table-hover">
                    <thead>
                        <tr> <!--TODO: i18n-->
                            <th>UID</th>
                            <th>Name</th>
                            <th>URL</th>
                            <th>i18n:Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <f:for each="{sources}" as="source">
                            <tr>
                                <td>{source.uid}</td>
                                <td>{source.name}</td>
                                <td>{source.url}</td>
                                <td class="col-control">
                                    <div class="btn-group" role="group">
                                        <f:link.action action="editSource" arguments="{source:source}" class="btn btn-default"><core:icon identifier="actions-document-open" /></f:link.action>
                                        <f:link.action action="deleteSource" arguments="{source:source}" class="btn btn-danger"><core:icon identifier="actions-edit-delete" /></f:link.action>
                                    </div>
                                </td>
                            </tr>
                        </f:for>
                    </tbody>
                </table>
                <f:link.action action="newSource" class="btn btn-default">New Source</f:link.action>
                <a href="#" id="create_source_btn" class="btn btn-default tx_sparqltoucan_hidden_btn">New Source</a>
            </div>
        </div>
    </div>

    <div class="tab-pane tx_sparqltoucan_hidden_form" role="tabpanel" id="create_source_form">
        <div class="panel-tab"></div>
        <div class="panel panel-tab">

            <div class="panel-body">
                <h1><f:translate key="tx_sparql_toucan_h1.newsource" /></h1>

                <f:flashMessages />

                <f:render partial="FormErrors" />

                <f:form action="createSource"  name="newSource" object="{newSource}">
                    <f:render partial="Source/FormFields" />
                    <f:form.submit value="Create new"  class="btn btn-default" />
                </f:form>
            </div>
        </div>
    </div>


</f:section>
</html>